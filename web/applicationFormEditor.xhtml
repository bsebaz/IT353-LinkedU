<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Application Form Editor</title>
        <h:outputStylesheet name="css/bootstrap.min.css"/>
        <h:outputScript name="js/bootstrap.min.js"/>
        <h:outputScript name="js/jquery-3.3.1.min.js"/>
        <script type="text/javascript" language="javascript">
            $(document).ready(function(){
                $('.options_button').click(function(){
                    $('#app_form_body').load('#app_form_body');
                });
            })
        </script>
        <style>
            .fixed_menu {
                top: 0;
                overflow-y: hidden;
                /*overflow-x: scroll*/
                position: fixed;  /*Set the navbar to fixed position */
                height: 100px;
                width: 100%;
            }
            .edit_menu{
                background-color: gainsboro;
                font-size: 20px;
            }
            #app_form_body{
                margin-top: 150px;
            }
        </style>

    </h:head>
    <h:body>
        
        <div class="fixed_menu">
            <ui:insert><ui:include src="nav.xhtml"/></ui:insert>
            <div class="edit_menu">
                <a id="global_button" class="options_button" href="#global">Global</a>
                <a id="save_button" class="options_button" href="#save">Save</a>
                <a id="insert_button" class="options_button" href="#insert">Insert</a>
                <a id="delete_button" class="options_button" href="#delete">Delete</a>
            </div>
        </div>

        <br/>
        <br/>
        <h:form id="app_form_body">
            <h3><h:outputText id="form_title" value="#{applicationFormController.applicationForm.title}"></h:outputText></h3>
            <br/>
            <ui:repeat value="#{applicationFormController.applicationForm.elements}" var="element">
                <div id="#{element.getName()}" class="form_element">
                    <h5><h:outputText value="#{element.getNumber()} #{element.getName()}"></h:outputText></h5>
                    <h:outputText value="#{element.getInstruction()}"></h:outputText>
                    <br/>
                    <h:outputText value="#{element.toHTML()}" escape="false"></h:outputText>
                </div>
            </ui:repeat>
            <h:commandButton class="btn homeCardButton" style="background-color: blue;}" value="Submit">
            </h:commandButton>
        </h:form>
    </h:body>
</html>


